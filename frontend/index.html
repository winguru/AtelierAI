<!DOCTYPE html>
<html lang="en">

<body>
    <h1>AtelierAI</h1>

    <!-- UPDATED SECTION FOR SCANNING -->
    <div class="card">
        <h2>1. Manage Image Library</h2>
        <p>
            Add images to the <code>./image_library</code> folder, then click the button below.
            This will clean up orphaned records, import new files, rename them to their hash, and remove any files
            already in the database.
        </p>
        <button id="rescan-btn">Rescan & Sync Library</button>
        <pre id="scan-output"></pre>
    </div>
    <hr>
    <!-- NEW SECTION FOR UPLOADING -->
    <div class="card">
        <h2>3. Upload New Images</h2>
        <p>Select one or more images to upload to your library. You can also assign batch metadata.</p>

        <form id="upload-form" enctype="multipart/form-data">
            <div class="form-group">
                <label for="image-files">Select Images:</label>
                <input type="file" id="image-files" name="files" multiple accept="image/png, image/jpeg, image/webp">
            </div>

            <div class="form-group">
                <label for="artist-name">Artist Name (Optional):</label>
                <input list="artist-suggestions" type="text" id="artist-name" name="artist_name"
                    placeholder="Start typing to see suggestions...">
                <datalist id="artist-suggestions"></datalist>
            </div>

            <div class="form-group">
                <label for="source-url">Source URL (Optional):</label>
                <input type="url" id="source-url" name="source_url" placeholder="https://...">
            </div>

            <div class="form-group">
                <label for="license-select">License (Optional):</label>
                <select id="license-select" name="license_id">
                    <option value="">-- Select a License --</option>
                </select>
            </div>

            <button type="submit">Upload Images</button>
        </form>
        <pre id="upload-output"></pre>
    </div>

    <hr>

    <!-- EXISTING SECTION FOR LOADING -->
    <div class="card">
        <h2>2. View Image Data</h2>
        <button id="load-images-btn">Load Images from API</button>
        <pre id="api-output"></pre>
    </div>

    <script src="/frontend/js/main.js"></script>
</body>

</html>